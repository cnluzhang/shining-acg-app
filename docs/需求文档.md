# 1. 项目背景与定位

## 1.1 背景

1. **官网记忆**：晒你官网已停运许久，社团内部一直有复活官网的呼声，期望通过还原官网数据来重建社团回忆。
2. **产品缺位**：目前市面上缺乏一款能同时满足以下需求的内容生态平台：

   - 帮助晒你人扩展内部社交圈（扩展社交圈）。
   - 将个人创作与社团历史深度绑定（社团绑定）。
   - 提供足够低的创作门槛，消除分享顾虑（创作门槛）。

   我们希望能制作一款填补上述空缺的产品，让晒你人可以在其中自由创作、随心分享、广泛交流。

## 1.2 双子星战略

为填补上述空缺，我们打算开发两个紧密关联的产品

### 1.2.1 晒你官网 (shining-acg-site，简称 site)

- **定位**：社团对外展示风貌的门面与回忆的起点。
- **核心功能**：
  - 展示社团各类基础信息。
  - 聚合展示“晒你 App”的热门帖子。
  - 复刻经典的“部长宣言”模块。

### 1.2.2. 晒你 App (shining-acg-app，简称 app)

- **定位**：强绑定 QQ 生态的以`个人创作`、`生活分享`内容为主 UGC 平台。
- **核心功能**：
  - 提供低门槛的内容发布体验。
  - 通过内容渠道帮助用户建立联系，扩展交际圈。
  - 集成对 app 和 site 的管理功能。

## 1.3 竞品分析与差异化

### 1.3.1 对比与优势

前文说过 app 的定位与填补的内容生态平台缺位，因此本节主要针对相同定位（生活分享、个人创作）的 app 进行分析，重点考察现有平台在“扩展社交圈”、“社团绑定”、“创作门槛”三个方面的表现。

| 平台        | 特点                                               | 优点                                   | 痛点 (针对本社团需求)                                                                                      |
| :---------- | :------------------------------------------------- | :------------------------------------- | :--------------------------------------------------------------------------------------------------------- |
| **QQ 空间** | 强熟人社交链，私密性高，是社团成员目前的存量活跃地 | 创作门槛极低，心理负担小，适合高频分享 | **社交封闭**：无法触达未加好友的社团新人，难以扩展交际圈；<br>**缺乏沉淀**：内容难以检索，无法绑定社团历史 |
| **小红书**  | 强算法推荐，重美感                                 | 标签化分发利于同好聚集，互动氛围好     | **门槛较高**：对质量有要求，劝退了随意的日常记录；<br>**关系疏离**：公域流量为主，难以转化为社团深度社交   |
| **B 站**    | 二次元浓厚，中长视频                               | 适合发布高质量的社团活动记录或个人大作 | **门槛过高**：视频制作耗时，不适合图文形式；<br>**反馈较难**：普通人的日常内容难以获得流量与关注           |
| **抖音**    | 强算法推荐，短视频                                 | 创作工具丰富，爆款曝光大               | **沉淀困难**：消费极度碎片化，难以建立稳定社团社交                                                         |

可以看出，app 锚定了晒你这一独特的群体，在众多社交平台上形成了独特的差异化路线。

### 1.3.2 困境与突围

虽然现有平台存在痛点，但其培养的用户习惯构成了巨大的优势。对于用户来说，‘摆脱痛点’的收益往往难以抵消‘学习新软件’和‘多平台分发’带来的巨大成本。因此，我们不能仅靠痛点驱动，必须在**最小化用户使用门槛**的同时，**最大化我们独有的社团优势**，才能真正吸引用户。

具体的策略将在[宏观设计](#24-核心策略实现)章节详细阐述。

# 2. 概要设计

## 2.1 用户画像与权限体系

### 2.1.1 角色定义

| 产品            | 目标用户         | 核心诉求                                      |
| :-------------- | :--------------- | :-------------------------------------------- |
| **site (官网)** | 全网用户 (游客)  | 了解社团文化、获取社团资讯、欣赏优秀作品      |
|                 | 社团成员         | 获得归属感、成就感                            |
| **app (应用)**  | 全网用户（游客） | 查看帖子内容                                  |
|                 | 社团成员         | 社交互动、内容分享、身份认同                  |
|                 | 管理员           | 内容封禁、site & app 内容维护                 |
|                 | 超级管理员       | 用户及内容封禁、权限管理、site & app 内容维护 |

### 2.1.2 准入机制

- **site**：完全开放，无登录门槛。
- **app**：严格的白名单机制。
  - 基于 QQ 登录鉴权。
  - 系统自动校验登录 QQ 是否在社团成员白名单中。
  - 非白名单用户只能访问首页和指定的某个帖子，其余模块均无法访问。

## 2.2 多平台覆盖

本项目致力于实现“一次开发，多端运行”，同时支持现代浏览器访问与主流移动平台应用访问。

### 2.2.1 技术架构

采用 "Web Core + Native Shell" 的混合开发模式：

- **核心业务层 (Web)**：基于 Web 技术栈构建统一的业务逻辑与 UI 界面，确保多端体验一致性与迭代效率。
- **原生壳层 (Native)**：
  - **iOS/Android/HarmonyOS**：使用原生 WebView 容器加载 Web 页面。
  - **原生能力桥接**：通过 JSBridge 调用原生通知 (Push Notification)、系统分享等系统级能力。

尽管我们主要采用 Web 技术栈进行开发工作，但是我们寄希望于 Service Worker 技术及对原生客户端能力的调用，为用户提供近似原生应用的体验。

### 2.2.2 UI 适配方案

- **site**：
  - 采用 PC/Mobile 双端适配策略。
  - 若人力不足，优先保证 PC 端开发。
- **app**：
  - 采用全响应式设计。
  - 重点适配手机竖屏操作，同时兼容折叠屏与平板设备的布局流转。

## 2.3 品牌形象设计

现有的晒你 logo 符合实用主义但不符合现代 App 的审美，因此我们需要寻找设计师重新设计能应用于 site & app 的晒你 logo。

> [logo 示意（查看“品牌形象设计”section）](https://www.figma.com/design/tdgnWdU2Pp1ihar7svr5W7/shining-acg-app-shadcn-ui---Design-System--Community-?node-id=173-1417)

1. 长方形 logo：用于在 header 中标识品牌形象。如果找不到设计师设计，则自行用 html+css 代替。

2. 正方形 logo：用于在浏览器标签页上和移动端应用图标上表示品牌形象。如果找不到设计师设计，则自行设计一个图像代替。

下文简称长方形 logo 为 r-logo，正方形 logo 为 s-logo。

TODO：寻找设计师

## 2.4 模块设计

### 2.3.1 site 模块

> [示意网站](https://www.mihoyo.com/)

| 模块         | 功能描述                   |
| :----------- | :------------------------- |
| **首页**     | 等待资源加载与品牌形象展示 |
| **了解我们** | 社团介绍、社团历史         |
| **部门信息** | 各部门信息展示             |
| **活动信息** | 各类晒你活动展示           |
| **热门动态** | App 优质内容聚合           |
| **部长宣言** | 每一届新部长上任时的自介   |
| **关于网站** | 赞助感谢、网站 staff       |

正在考虑将“关于网站”模块中的内容与“了解我们“合并。

> [模块关系图（查看”site 模块关系图“section）](https://www.figma.com/design/tdgnWdU2Pp1ihar7svr5W7/shining-acg-app-shadcn-ui---Design-System--Community-?node-id=173-1417)

### 2.3.2 app 模块

> [示意图（查看“app 模块设计”section）](https://www.figma.com/design/tdgnWdU2Pp1ihar7svr5W7/shining-acg-app-shadcn-ui---Design-System--Community-?node-id=173-1417)

1. **导航栏**

   - 模块切换：采用经典的 Tab 导航栏结构来在不同模块之间切换。
     1. 首页
     2. 消息
     3. 发布
     4. 管理
     5. 我

2. **header**

   - r-logo
   - 搜索栏：作为全局醒目元素承担当前模块下最重要的搜索功能。
   - “更多”按钮
     1. **site 跳转按钮**
     2. **各类设置页面**
        - 隐私设置
        - 通知设置
        - 存储空间
        - ......
     3. **深色模式设置**
     4. **退出登录**

3. **首页（home）**
   - 内容瀑布流：推荐/时间/热度/关注/部门分类/内容分类的帖子瀑布流。
4. **消息（notification）**
   - 我的消息：支持端到端加密 1v1 实时聊天。
   - 评论和 @：用户收到的评论和@信息。
   - 赞和收藏：用户获得的赞和收藏。
   - 新增关注：新关注用户的其他用户。
   - 晒你通知：管理人员下发的通知内容（先不做）。
5. **发布（release）**
   - 极简发布器：支持图文视频混排以及纯文字内容，系统自动根据素材类型（纯文、单图、多图、视频）适配最佳展示版式。
6. **管理（management）**
   - 举报受理：被社团用户举报的帖子/评论/用户会在这里聚合显示，等待管理员及超级管理员处理。
   - 权限管理：超级管理员可以在这里编辑社团用户的权限级别。
   - 通知管理：发布和编辑”消息“模块推送的”晒你通知“内容（先不做）。
   - 官网编辑：编辑官网内容。
7. **用户资料（profile）**

   - 个人信息：头像、用户名、QQ 号、签名、各项数据......
   - 身份标识：所属部门。
   - 外部链接：集成 B 站、微博等外部社交账号跳转，注意安全策略。

8. **搜索结果（search）**
   - 内容瀑布流：帖子/用户，接受各种查询参数。

> [模块关系图（查看”app 模块关系图“section）](https://www.figma.com/design/tdgnWdU2Pp1ihar7svr5W7/shining-acg-app-shadcn-ui---Design-System--Community-?node-id=173-1417)

## 2.5 核心策略实现

### 2.4.1 最小化使用门槛

1.  **无感登录**：利用 QQ 互联实现一键登录，无需记忆额外账号密码。
2.  **零成本迁移**：交互逻辑复用主流社交 App (如小红书/QQ 空间) 习惯，降低学习成本。
3.  **智能发布**：统一发布入口，系统自动根据素材类型（纯文、单图、多图、视频）适配最佳展示版式。

### 2.4.2 最大化社团优势

1.  **身份认同强化**：
    - 在 app 全局强化“部门”概念，用户头像旁常驻部门徽章。
    - site 首页聚合展示 app 优质内容，让普通社员的作品有机会成为社团“门面”。
2.  **社交关系沉淀**：
    - **私域互通**：支持个人主页挂载外部社交链接，帮助社员将社团内的弱关系转化为全平台的强关注。
    - **即时触达**：利用原生推送能力，确保社团内的互动（评论、私信）能像 QQ 消息一样被即时感知，解决“回访难”问题。

### 2.6 部署与合规策略

鉴于 UGC 社区内容的特殊性，为降低运营风险并简化合规流程，本项目将采用“海外部署 + 独立分发”的策略，不进行中国大陆地区的 ICP 备案。

#### 2.6.1 基础设施

全面依托海外云服务商构建基础设施，确保服务的抗审查能力与数据安全：

- **域名与网络**：域名不进行 ICP 备案，使用 **Cloudflare** 进行 DNS 解析与全站 CDN 加速。
- **静态资源**：Web 前端资源托管于 **Cloudflare Pages**。
- **数据存储**：
  - **对象存储 (OSS)**：计划使用 **Cloudflare R2** 或 AWS S3 等海外对象存储服务，用于存放用户上传的图片、视频等媒体资源。
  - **后端服务**：部署于海外地区的云服务器。

#### 2.6.2 应用分发

避开国内应用商店的上架限制，采用以下分发渠道：

- **Android**：通过官网直接提供 **APK 安装包** 下载。
- **iOS**：利用 Apple **TestFlight** 平台进行分发，既能规避 App Store 的复杂审核，又能方便社团内部成员安装更新。
- **HarmonyOS**：类 iOS 方案，先提供此系统的应用分发。

> TODO: 敲定具体的后端服务器与对象存储服务商选型。

# 3. 详细设计

## 3.1 site

### 3.1.1 全局 header

- **布局**

  1. header 全局显示，在页面顶部固定。
  2. 分为左右两边，左边放置一个 r-logo，右边从左到右依次排列跳转到各个模块的按钮。
  3. 在“首页”隐藏以提供沉浸式体验，在其他模块显示。

- **交互**

  1. 点击 r-logo 跳转至首页。
  2. 点击模块按钮跳转至对应模块。

### 3.1.2 首页

- **布局**

  1. 背景播放“晒你动漫社宣传视频”，遮罩一层灰色蒙版。
  2. 页面中心放置“Shining ACG Fan Club”英文艺术字或晒你 slogan。
  3. 文字下方显示背景视频全屏播放按钮。
  4. 按钮下方持续播放一个动画，提醒用户上滑进入下一页。

- **交互**

  1. 用户访问 www.shiningacg.club 时先展示 loading 进度条，加载完成后通过动画转场到实际内容。
  2. 在“首页”时隐藏全局 header。
  3. 点击全屏播放按钮后，全屏播放“晒你动漫社宣传视频”。
  4. 上滑进入“了解我们”模块。

### 3.1.3 了解我们

- **布局**

  1. 页面上部分提供 Tab Bar，包含“关于晒你”和“发展历程”两个选项。

- **交互**

  1. 从“首页”下滑进入此模块时，显示全局 header。
  2. 点击 Tab Bar 在“关于晒你”和“发展历程”之间切换。

### 3.1.4 部门信息

### 3.1.5 活动信息

### 3.1.6 热门帖子

### 3.1.7 部长宣言

### 3.1.8 关于网站

## 3.2 app

虽然 app 采用的是响应式设计的 UI 适配方案，不止 2 种 UI 布局。大体上可以归类为 PC 端视觉设计与移动端视觉设计这 2 种，其他 UI 布局只是与这 2 种在具体实现上有细微差别。因此下面的详细设计部分在必要时会分成 PC 端、移动端两种情况来做分别讨论。

### 3.2.1 导航栏

- **布局**：

  1. 导航栏全局显示
  2. 共有 5 个 Tab：首页、消息、发布、管理、我。在**PC 端**，当用户未登录时，“我” Tab 变成“登录”按钮。
  3. 对用户角色为“社团成员”的用户隐藏并屏蔽“管理”模块
  4. 每个 Tab 对应模块的内容有未读消息时，在 Tab 上显示未读消息数量。
  5. **PC 端**：导航栏在页面左侧固定，5 个 Tab 从上到下依次排列；与概要设计中描述的不同的是，需将”更多“按钮放置在导航栏最底部。
  6. **移动端**：导航栏在页面底部固定，5 个 Tab 从左到右依次排列；和概要设计中描述相同，没有“更多”按钮。

- **交互**

  1. 点击每个 Tab 后，跳转至对应路由页。如果用户未登录并且跳转到需要登录才能访问的页面，则阻止跳转并弹出"登录弹窗"。
  2. **PC 端**：点击“登录”按钮后，弹出"登录弹窗"。
  3. **PC 端**：点击”更多”按钮后，弹出 popover，显示“隐私设置”、“通知设置”、“存储空间”、“深色模式”、“退出登录” list item，“深色模式”可切换“日间模式”、“暗黑模式”、“跟随系统”。

#### 登录弹窗

点击弹窗内的登录按钮跳转到 QQ 互联登录页登录。

### 3.2.2 header

- **布局**

  1. header 全局显示，在页面顶部固定。
  2. **PC 端**：r-logo 靠左，搜索框居中，“晒你官网”按钮靠右。
  3. **移动端**：搜索框居中，“更多”按钮靠右。

- **交互**
  1. **PC 端**：点击“晒你官网”新建标签页打开 www.shiningacg.club。
  2. **移动端**：点击”更多”按钮后，弹出 popover，显示“晒你官网"、“隐私设置”、“通知设置”、“存储空间”、“深色模式”、“退出登录” list item，点击“晒你官网”新建标签页打开 www.shiningacg.club，“深色模式”可切换“日间模式”、“暗黑模式”、“跟随系统”。
  3. 点击 r-logo 导航到首页。
  4. 点击搜索框，随着用户输入，向后台实时获取推荐的搜索结果。支持键盘快捷键搜索。

### 3.2.3 隐私设置
PC 端以弹窗形式打开，移动端以页面形式打开。



### 3.2.4 通知设置
PC 端以弹窗形式打开，移动端以页面形式打开。



### 3.2.5 存储空间
PC 端以弹窗形式打开，移动端以页面形式打开。



### 3.2.6 首页

### 3.2.7 消息

### 3.2.8 发布

### 3.2.9 管理

### 3.2.10 用户资料

### 3.2.3 搜索结果

1. **首页**
   - app header 搜索栏：负责搜索帖子/用户。
1. **消息**
   - app header 搜索栏：根据用户当前页面的不同，切换搜索聊天记录/评论和@/赞和收藏/新增关注/晒你通知的历史记录。

## 3.3 公共组件

### 3.3.1 未读消息提醒

### 3.3.2 帖子卡片

### 3.3.3 帖子瀑布流

### 3.3.4 帖子详情弹窗/页

### 3.3.5 用户 list item

### 3.3.6 用户 list

### 3.3.7 fallback 页面

文字显示：

1. to 用户的错误原因解释。
2. to developer 的报错信息。

文字下方放置“返回首页”按钮。

- **帖子卡片**：复用于 app 首页帖子流、个人资料帖子流、site 热门动态，支持多种媒体形态自适应。
- **用户卡片**：复用于搜索用户、。
- **加载/空状态**：统一的 Loading 动画与缺省页设计。

## 时间显示方案

### 即时性优先

> 含义差别：
> “昨天”通常指日历上的“前一日”（the previous calendar day）。
> “一天前”（“1 day ago”）更偏向于持续时间，通常理解为大约 24 小时之前（严格含义是距今 >=24 小时且 <48 小时）。

帖子发布、评论发布、@、赞、收藏、关注、私聊时对方的在线状态，需要强即时性以方便用户间互动。

因此时间显示方案的设计原则是：计算事件发生时间与当前时间的距离。

1. 刚刚。用于事件发生 1 分钟以内
2. [1-59] 分钟前。用于事件发生的 1 分钟-59 分钟 59 秒钟。
3. [1-23] 小时前。用于事件发生的 1 小时-23 小时 59 分钟 59 秒钟。
4. [1-6] 天前。用于发生时间在 1-6 天前的事件，发生时间最小距今不能小于 24h。
5. [月份]-[日期]。用于发生时间在今年且时间已达到 7 天 的事件。
6. [年份]-[月份]-[日期]。用于发生在非本年的事件。

### 准确性优先

私信中最新消息的时间、私信中划分 message-list 的时间，需要强准确性以方便定位信息。

1. [小时]:[分钟]。用于今天。
2. 昨天 [小时]:[分钟]。用于昨天。
3. 星期[几]。如今天是星期一，则可选的时间描述为：星期日、六、五、四、三、二。
4. [月份]-[日期]。用于发生时间在今年且时间已达到 7 天 的事件。
5. [年份]-[月份]-[日期]。用于发生在非本年的事件。

message-list 中均显示时间的具体小时和分钟。message-list 中每 3 min 不说话则划分一个对话区间。

# 交付设计

# 设计稿

[shining-acg-app](https://www.figma.com/design/tdgnWdU2Pp1ihar7svr5W7/shining-acg-app-shadcn-ui---Design-System--Community-?node-id=109-872&t=Z5YxJ9Y300ITHAZr-1)
